<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Calendrier 4 semaines - sombre</title>
<style>
:root{
  --bg:#121212;
  --card:#1c1f23;
  --border:#555;
  --text:#eaeaea;
  --muted:#999;
  --accent:#00e5ff;
  --gap:4px;
  --days-font:14px;
  --event-font:14px;
}
body{
  margin:0;
  font-family:Inter, system-ui, Arial, sans-serif;
  background:var(--bg);
  color:var(--text);
  padding:16px;
  box-sizing:border-box;
}
.container{
  max-width:1600px;
  margin:0 auto;
}
header{
  display:flex;
  justify-content:center;
  align-items:center;
  margin-bottom:10px;
  gap:20px;
}
header h1{
  margin:0;
  font-size:24px;
  color:var(--accent);
  text-align:center;
  flex:1;
}
header button{
  background:none;
  border:none;
  color:var(--accent);
  font-size:18px;
  cursor:pointer;
  transition: background 0.2s;
  padding:4px 8px;
}
header button:hover { background: rgba(0,229,255,0.2); border-radius:4px; }

.calendar {
  background: var(--card);
  border-radius:12px;
  padding:12px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.5);
  width: 100%;
}
.grid {
  display:grid;
  grid-template-columns: repeat(7, 1fr);
  gap: var(--gap);
}
.day {
  background: #141619;
  border-radius:12px;
  height: calc((100vh - 100px)/4);
  padding:12px;
  box-sizing:border-box;
  border:1px solid var(--border);
  overflow:hidden;
  position:relative;
  display:flex;
  flex-direction:column;
  transition: transform 0.35s, background 0.25s, box-shadow 0.35s, border-color 0.25s, height 0.35s;
}
.day.past {
  transform: scale(0.95);
  background:#0f1113;
  color:#555;
}
.day.today {
  transform: scale(1.08);
  background:#1f2226;
  border:2px solid var(--accent);
  z-index:2;
  box-shadow: 0 0 30px rgba(0,229,255,0.5);
}
.day.today::after{
  content:"";
  position:absolute;
  inset:0;
  border-radius:12px;
  pointer-events:none;
  box-shadow: 0 0 20px 10px rgba(0,229,255,0.6);
  filter: drop-shadow(0 0 10px rgba(0,229,255,0.5));
}
.day.future { background:#1c1f23; color:#eaeaea; }

.day-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-size:var(--days-font);
  margin-bottom:4px;
}
.day .date { font-weight:600; font-size:var(--days-font); }

.events {
  flex:1 1 auto;
  display:flex;
  flex-direction:column;
  gap:2px;
  overflow:hidden;
}
.event {
  display:flex;
  align-items:center;
  gap:4px;
  padding:2px 4px;
  font-size:var(--event-font);
  border-radius:6px;
  background: rgba(0,0,0,0.3);
  cursor:pointer;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.event:hover { background: rgba(0,0,0,0.5); }
.event .time { min-width:50px; font-weight:600; font-size:11px; }
.event.allDay .time { display:none; }
.event.more { font-size:12px; color:var(--muted); padding-left:6px; }
.event .title { text-align:left; }

.c-reception { color:#109c53; }
.c-smr { color:#5768cb; }

#popup {
  position: fixed;
  top:50%;
  left:50%;
  transform: translate(-50%,-50%);
  background:#1c1f23;
  color:#fff;
  padding:16px;
  border-radius:12px;
  box-shadow:0 0 20px rgba(0,0,0,0.8);
  z-index:20;
  max-width:90%;
  min-width:300px;
  display:none;
}
#popup h3 { margin-top:0; margin-bottom:8px; }
#popup .close { position:absolute; top:8px; right:12px; cursor:pointer; font-weight:bold; font-size:18px; }

/* Hover futur et aujourd'hui */
.day.future:hover, .day.today:hover {
  transform: scale(1.22);
  z-index:10;
  background-color:#23272c;
  box-shadow:0 12px 40px rgba(0,0,0,0.45);
  height:auto; /* augmente pour montrer les titres */
}
.day.future:hover::after{
  content:"";
  position:absolute;
  inset:0;
  border-radius:12px;
  pointer-events:none;
  box-shadow:0 0 20px 4px rgba(0,229,255,0.4);
  filter: drop-shadow(0 0 6px rgba(0,229,255,0.3));
}
.day.today:hover{
  transform: scale(1.3);
  height:auto;
}

@media(max-width:900px){ .grid{ grid-template-columns: repeat(2,1fr); } }
@media(max-width:520px){ .grid{ grid-template-columns: repeat(1,1fr); } }
</style>
</head>
<body>
<div class="container">
  <header>
    <button id="prev-week">&lt;</button>
    <button id="today-btn">Aujourd'hui</button>
    <h1 id="month-title">Mois</h1>
    <button id="next-week">&gt;</button>
  </header>
  <div class="calendar" id="calendar-root">
    <div
