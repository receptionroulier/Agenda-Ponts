<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calendrier</title>
<style>
  :root {
    --accent: #00e5ff;
    --card: #1c1f23;
    --border: #333;
    --days-font: 14px;
    --event-font: 12px;
    --gap: 8px;
    --muted: #aaa;
  }

  body {
    margin:0;
    font-family: sans-serif;
    background:#0f1113;
    color:#eaeaea;
  }

  header {
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:12px;
  }

  header button {
    background:none;
    border:none;
    color:var(--accent);
    font-size:20px;
    cursor:pointer;
    transition: background 0.2s;
  }

  header button:hover {
    background: rgba(0,229,255,0.2);
    border-radius:4px;
  }

  header h1 {
    margin:0;
    font-size:24px;
    color:var(--accent);
  }

  .calendar {
    background: var(--card);
    border-radius:12px;
    padding:12px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.5);
    width: 100%;
  }

  .grid {
    display:grid;
    grid-template-columns: repeat(7, 1fr);
    gap: var(--gap);
  }

  .day {
    background: #141619;
    border-radius:12px;
    height: calc((100vh - 100px)/4);
    padding:8px;
    box-sizing:border-box;
    border:1px solid var(--border);
    display:flex;
    flex-direction:column;
    position:relative;
    transition: transform 0.35s, background 0.25s, box-shadow 0.35s;
    overflow:hidden;
  }

  /* Jour actuel */
  .day.today {
    transform: scale(1.08);
    background:#1f2226;
    border:2px solid var(--accent);
    z-index:2;
    animation: pulse 3s infinite ease-in-out;
  }

  .day.today::after {
    content:"";
    position:absolute;
    inset:0;
    border-radius:12px;
    pointer-events:none;
    box-shadow:0 0 20px 8px rgba(0,229,255,0.3); /* halo permanent */
  }

  @keyframes pulse {
    0%,100%{ transform: scale(1.08); }
    50%{ transform: scale(1.12); }
  }

  /* Jours passés et futurs */
  .day.past { background:#0f1113; color:#555; transform: scale(0.95);}
  .day.future { background:#1c1f23; color:#eaeaea; animation: pulse-future 4s ease-in-out infinite; }
  @keyframes pulse-future { 0%,100%{ transform: scale(1); } 50%{ transform: scale(1.03); } }

  /* Hover pour tout le monde */
  .day:hover {
    transform: scale(1.22);
    z-index:10;
    background-color:#23272c;
    box-shadow:0 12px 40px rgba(0,0,0,0.45);
    overflow:visible;
  }

  .day:hover .event { white-space: normal; }

  .day-header {
    display:flex;
    justify-content:space-between;
    align-items:center;
    font-size:var(--days-font);
    margin-bottom:2px;
  }

  .day .date {
    font-weight:600;
    font-size:var(--days-font);
  }

  .events {
    flex:1 1 auto;
    display:flex;
    flex-direction:column;
    gap:2px;
    overflow:hidden;
  }

  .event {
    display:flex;
    align-items:center;
    gap:4px;
    padding:2px 4px;
    font-size:var(--event-font);
    border-radius:6px;
    background: rgba(0,0,0,0.3);
    cursor:pointer;
    white-space:nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
  }

  .event:hover { background: rgba(0,0,0,0.5); }

  .event .time { min-width:50px; font-weight:600; font-size:11px; }
  .event.allDay .time { display:none; }
  .event.more { font-size:12px; color:var(--muted); padding-left:6px; }
  .event .title { text-align:left; }

  .c-reception { color:#109c53; }
  .c-smr { color:#5768cb; }

  /* Popup */
  #popup {
    position: fixed;
    top:50%;
    left:50%;
    transform: translate(-50%,-50%);
    background:#1c1f23;
    color:#fff;
    padding:16px;
    border-radius:12px;
    box-shadow:0 0 20px rgba(0,0,0,0.8);
    z-index:20;
    max-width:90%;
    min-width:300px;
    display:none;
  }

  #popup h3 { margin-top:0; margin-bottom:8px; }
  #popup .close {
    position:absolute;
    top:8px;
    right:12px;
    cursor:pointer;
    font-weight:bold;
    font-size:18px;
  }

  @media(max-width:900px){ .grid{ grid-template-columns: repeat(2,1fr); } }
  @media(max-width:520px){ .grid{ grid-template-columns: repeat(1,1fr); } }
</style>
</head>
<body>

<header>
  <button id="prev">&lt;</button>
  <h1 id="month-year">Novembre 2025</h1>
  <button id="next">&gt;</button>
</header>

<div class="calendar">
  <div class="grid" id="calendar-grid">
    <!-- Jours générés dynamiquement ici -->
  </div>
</div>

<div id="popup">
  <span class="close" onclick="document.getElementById('popup').style.display='none'">&times;</span>
  <h3 id="popup-title"></h3>
  <div id="popup-content"></div>
</div>

<script>
  // Données mock pour les événements
  const events = {
    "2025-11-03":[{title:"VAQ MERCURY ACE", time:"07:00"}],
    "2025-11-05":[{title:"VAQ LAKE COMO", time:"11:00"}],
    "2025-11-07":[{title:"Viking Destiny", time:"23:00"}]
    // Ajoute tes autres événements ici
  };

  const calendarGrid = document.getElementById("calendar-grid");
  const today = new Date();
  const month = today.getMonth(); // Novembre = 10
  const year = today.getFullYear();

  // Génération du calendrier pour le mois
  function generateCalendar() {
    calendarGrid.innerHTML = "";
    const firstDay = new Date(year, month, 1).getDay(); // 0=dimanche
    const daysInMonth = new Date(year, month+1, 0).getDate();

    for(let i=0; i<firstDay; i++){
      const empty = document.createElement("div");
      calendarGrid.appendChild(empty);
    }

    for(let day=1; day<=daysInMonth; day++){
      const date = new Date(year, month, day);
      const dayDiv = document.createElement("div");
      dayDiv.classList.add("day");

      if(date.toDateString() === today.toDateString()) dayDiv.classList.add("today");
      else if(date < today) dayDiv.classList.add("past");
      else dayDiv.classList.add("future");

      // Header
      const header = document.createElement("div");
      header.classList.add("day-header");
      const dateSpan = document.createElement("span");
      dateSpan.className="date";
      dateSpan.textContent = day;
      header.appendChild(dateSpan);
      dayDiv.appendChild(header);

      // Events
      const eventsDiv = document.createElement("div");
      eventsDiv.className="events";
      const dateStr = date.toISOString().split("T")[0];
      if(events[dateStr]){
        events[dateStr].forEach(ev=>{
          const evDiv = document.createElement("div");
          evDiv.className="event";
          evDiv.innerHTML=`<span class="time">${ev.time}</span> <span class="title">${ev.title}</span>`;
          evDiv.onclick = () => {
            document.getElementById("popup-title").textContent = ev.title;
            document.getElementById("popup-content").textContent = `Heure: ${ev.time}`;
            document.getElementById("popup").style.display="block";
          };
          eventsDiv.appendChild(evDiv);
        });
      }
      dayDiv.appendChild(eventsDiv);
      calendarGrid.appendChild(dayDiv);
    }
  }

  generateCalendar();
</script>
</body>
</html>
